Id;PostId;UserId;PostHistoryTypeId;RevisionGUID;CreationDate;Text;UserDisplayName;Comment
4296474;2129173;58088;2;e0d33aeb-5960-4689-ad56-3315594167d9;2010-01-24 22:31:43.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;            $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection;&#xD;&#xA;        }&#xD;&#xA;    }";;
4296478;2129173;11995;5;3a7c1ed4-ef4c-44be-bbe6-17d3653707db;2010-01-24 22:32:27.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;            $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection);&#xD;&#xA;        }&#xD;&#xA;    }";;added 1 characters in body
4296479;2129173;58088;5;c2ca1adc-e9a8-431e-a4b4-3d82a6c17bfa;2010-01-24 22:32:30.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;            $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    $database = new Database;&#xD;&#xA;    $database->connect();&#xD;&#xA;&#xD;&#xA;    $database->query(""INSERT INTO TABLE (`Name`) VALUES('Chacha')"");";;"added 130 characters in body; edited body"
4296487;2129173;11995;5;ca2e7b87-0211-4c97-ab72-25ba8248d164;2010-01-24 22:33:01.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;            $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    $database = new Database;&#xD;&#xA;    $database->connect();&#xD;&#xA;&#xD;&#xA;    $database->query(""INSERT INTO TABLE ('Name') VALUES('Chacha')"");";;deleted 8 characters in body
4296494;2129173;58088;5;6b3276c6-a4ed-4201-b28a-c9869b4f4a0e;2010-01-24 22:33:37.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;             $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // This will be called at the end of the script.&#xD;&#xA;        public function __destruct()&#xD;&#xA;        {&#xD;&#xA;            mysql_close($this->connection);&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    $database = new Database;&#xD;&#xA;    $database->connect();&#xD;&#xA;&#xD;&#xA;    $database->query(""INSERT INTO TABLE (`Name`) VALUES('Chacha')"");&#xD;&#xA;&#xD;&#xA;Basically, you open the connection in the beginning of the page, close it at the end page. Then, you can make various queries during the page and don't have to do anything to the connection.&#xD;&#xA;&#xD;&#xA;You could even do the mysql_connect in the constructor as Erik suggest.";;"added 165 characters in body; added 194 characters in body; added 3 characters in body; deleted 4 characters in body; added 83 characters in body; deleted 8 characters in body"
4296544;2129173;58088;5;2ea1d2ae-2b88-4912-91f0-c85d305528a9;2010-01-24 22:40:24.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;             $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // This will be called at the end of the script.&#xD;&#xA;        public function __destruct()&#xD;&#xA;        {&#xD;&#xA;            mysql_close($this->connection);&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    $database = new Database;&#xD;&#xA;    $database->connect();&#xD;&#xA;&#xD;&#xA;    $database->query(""INSERT INTO TABLE (`Name`) VALUES('Chacha')"");&#xD;&#xA;&#xD;&#xA;Basically, you open the connection in the beginning of the page, close it at the end page. Then, you can make various queries during the page and don't have to do anything to the connection.&#xD;&#xA;&#xD;&#xA;You could even do the mysql_connect in the constructor as Erik suggest.&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;To use the above using global variables (not suggested as it creates global state), you would do something like&#xD;&#xA;&#xD;&#xA;    Global $db;&#xD;&#xA;&#xD;&#xA;    $db = new Database;&#xD;&#xA;    // ... do startup stuff&#xD;&#xA;&#xD;&#xA;    function doSomething()&#xD;&#xA;    {&#xD;&#xA;        Global $db;&#xD;&#xA;        $db->query(""Do Something"");&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Oh, and no one mentioned you don't have to pass around a parameter. Just connect&#xD;&#xA;&#xD;&#xA;    mysql_connect();&#xD;&#xA;&#xD;&#xA;Then, mysql_query will just use the last connection no matter what the scope is.&#xD;&#xA;&#xD;&#xA;    mysql_connect();&#xD;&#xA;&#xD;&#xA;    function doSomething()&#xD;&#xA;    {&#xD;&#xA;        mysql_query(""Do something"");&#xD;&#xA;    }";;"added 300 characters in body; added 200 characters in body; added 106 characters in body"
4296682;2129173;58088;5;40031b5f-4b7c-46be-875d-2ab1dafb9ba7;2010-01-24 22:56:43.0;"Normally you would connect once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;             $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // This will be called at the end of the script.&#xD;&#xA;        public function __destruct()&#xD;&#xA;        {&#xD;&#xA;            mysql_close($this->connection);&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    $database = new Database;&#xD;&#xA;    $database->connect();&#xD;&#xA;&#xD;&#xA;    $database->query(""INSERT INTO TABLE (`Name`) VALUES('Chacha')"");&#xD;&#xA;&#xD;&#xA;Basically, you open the connection in the beginning of the page, close it at the end page. Then, you can make various queries during the page and don't have to do anything to the connection.&#xD;&#xA;&#xD;&#xA;You could even do the mysql_connect in the constructor as Erik suggest.&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;To use the above using global variables (not suggested as it creates global state), you would do something like&#xD;&#xA;&#xD;&#xA;    Global $db;&#xD;&#xA;&#xD;&#xA;    $db = new Database;&#xD;&#xA;    // ... do startup stuff&#xD;&#xA;&#xD;&#xA;    function doSomething()&#xD;&#xA;    {&#xD;&#xA;        Global $db;&#xD;&#xA;        $db->query(""Do Something"");&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Oh, and no one mentioned you don't have to pass around a parameter. Just connect&#xD;&#xA;&#xD;&#xA;    mysql_connect();&#xD;&#xA;&#xD;&#xA;Then, mysql_query will just use the last connection no matter what the scope is.&#xD;&#xA;&#xD;&#xA;    mysql_connect();&#xD;&#xA;&#xD;&#xA;    function doSomething()&#xD;&#xA;    {&#xD;&#xA;        mysql_query(""Do something"");&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;-----&#xD;&#xA;&#xD;&#xA;Per the comments:&#xD;&#xA;&#xD;&#xA;>I think you should use mysql_pconnect() instead of mysql_connect(), because mysql_connect() doesn't use connection pooling. – nightcoder&#xD;&#xA;&#xD;&#xA;You might want to consider whether you use `mysql_connect` or `mysql_pconnect`. However, you should still only connect once per script.";;added 310 characters in body
105602291;2129173;659634;5;6a050957-f368-496e-a479-6e10ea2a610e;2015-12-04 05:00:38.0;"Normally connections happen once a page load. AKA&#xD;&#xA;&#xD;&#xA;    class Database{&#xD;&#xA;        public function connect()&#xD;&#xA;        {&#xD;&#xA;             $this->connection = mysql_connect();&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // This will be called at the end of the script.&#xD;&#xA;        public function __destruct()&#xD;&#xA;        {&#xD;&#xA;            mysql_close($this->connection);&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        public function function query($query)&#xD;&#xA;        {&#xD;&#xA;            return mysql_query($query, $this->connection);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    $database = new Database;&#xD;&#xA;    $database->connect();&#xD;&#xA;&#xD;&#xA;    $database->query(""INSERT INTO TABLE (`Name`) VALUES('Chacha')"");&#xD;&#xA;&#xD;&#xA;Basically, you open the connection in the beginning of the page, close it at the end page. Then, you can make various queries during the page and don't have to do anything to the connection.&#xD;&#xA;&#xD;&#xA;You could even do the mysql_connect in the constructor as Erik suggest.&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;To use the above using global variables (not suggested as it creates global state), you would do something like&#xD;&#xA;&#xD;&#xA;    Global $db;&#xD;&#xA;&#xD;&#xA;    $db = new Database;&#xD;&#xA;    // ... do startup stuff&#xD;&#xA;&#xD;&#xA;    function doSomething()&#xD;&#xA;    {&#xD;&#xA;        Global $db;&#xD;&#xA;        $db->query(""Do Something"");&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Oh, and no one mentioned you don't have to pass around a parameter. Just connect&#xD;&#xA;&#xD;&#xA;    mysql_connect();&#xD;&#xA;&#xD;&#xA;Then, mysql_query will just use the last connection no matter what the scope is.&#xD;&#xA;&#xD;&#xA;    mysql_connect();&#xD;&#xA;&#xD;&#xA;    function doSomething()&#xD;&#xA;    {&#xD;&#xA;        mysql_query(""Do something"");&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;-----&#xD;&#xA;&#xD;&#xA;Per the comments:&#xD;&#xA;&#xD;&#xA;>I think you should use mysql_pconnect() instead of mysql_connect(), because mysql_connect() doesn't use connection pooling. – nightcoder&#xD;&#xA;&#xD;&#xA;You might want to consider whether you use `mysql_connect` or `mysql_pconnect`. However, you should still only connect once per script.";;A parentheses was missing.
